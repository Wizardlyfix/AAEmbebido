


    // !!! This file is generated using emlearn !!!

    #include <eml_trees.h>
    

EmlTreesNode sonar_nodes[122] = {
  { 1, 88.55441078755744, 1, 16 },
  { 3, 25.32064694917002, 2, 9 },
  { 3, 10.728672880789942, 3, 6 },
  { 4, 365.20081207317764, 4, 5 },
  { -1, 2.405219799238491, -1, -1 },
  { -1, 5.505032960733735, -1, -1 },
  { 0, 3.246664454344038, 7, 8 },
  { -1, 7.0156059582024675, -1, -1 },
  { -1, 9.808488521972052, -1, -1 },
  { 4, 366.29026898210617, 10, 13 },
  { 5, 498.3725691539848, 11, 12 },
  { -1, 14.269893325645093, -1, -1 },
  { -1, 9.536981526317536, -1, -1 },
  { 3, 26.147103424934933, 14, 15 },
  { -1, 13.30050499445061, -1, -1 },
  { -1, 20.158089734432828, -1, -1 },
  { 1, 89.34859085192373, 17, 24 },
  { 3, 20.103064065595863, 18, 21 },
  { 0, 4.911775493487611, 19, 20 },
  { -1, 7.747749784048373, -1, -1 },
  { -1, 11.077131911998846, -1, -1 },
  { 0, 3.6196709964981633, 22, 23 },
  { -1, 6.661072861668426, -1, -1 },
  { -1, 13.367942912267253, -1, -1 },
  { 0, 20.559716498041393, 25, 28 },
  { 0, 17.087007521233197, 26, 27 },
  { -1, 18.207116710278946, -1, -1 },
  { -1, 19.632755624359774, -1, -1 },
  { 1, 89.91782761244933, 29, 30 },
  { -1, 20.85129338192907, -1, -1 },
  { -1, 26.16382793753499, -1, -1 },
  { 1, 88.65537221667141, 32, 47 },
  { 3, 20.956255658293756, 33, 40 },
  { 0, 1.4400431650877197, 34, 37 },
  { 5, 479.41842050296634, 35, 36 },
  { -1, -0.14955870764381404, -1, -1 },
  { -1, 4.470390074885437, -1, -1 },
  { 3, 11.136869446743091, 38, 39 },
  { -1, 5.33637230277429, -1, -1 },
  { -1, 7.950266020916684, -1, -1 },
  { 3, 24.553212363729962, 41, 44 },
  { 1, 88.40184385348198, 42, 43 },
  { -1, 5.524559076817086, -1, -1 },
  { -1, 9.14327413674788, -1, -1 },
  { 3, 26.14519648578837, 45, 46 },
  { -1, 11.482426901658402, -1, -1 },
  { -1, 15.516402525651145, -1, -1 },
  { 1, 89.8837001989054, 48, 55 },
  { 0, 9.781281618299559, 49, 52 },
  { 0, 5.497020340181114, 50, 51 },
  { -1, 7.610330651491365, -1, -1 },
  { -1, 11.840188745131025, -1, -1 },
  { 1, 89.2333712590548, 53, 54 },
  { -1, 16.633979646949367, -1, -1 },
  { -1, 19.812652705196612, -1, -1 },
  { 0, 23.28082363017873, 56, 59 },
  { 0, 19.52344569739682, 57, 58 },
  { -1, 19.57739621831708, -1, -1 },
  { -1, 23.842658999691263, -1, -1 },
  { 4, 388.42151811725995, 60, 61 },
  { -1, 26.725746845872596, -1, -1 },
  { -1, 25.253019824804056, -1, -1 },
  { 1, 89.08470904225703, 63, 78 },
  { 3, 21.96223572162845, 64, 71 },
  { 1, 88.91341150548003, 65, 68 },
  { 1, 88.19613850801072, 66, 67 },
  { -1, 3.1834574237386146, -1, -1 },
  { -1, 7.492576590950439, -1, -1 },
  { 0, 8.818660322026657, 69, 70 },
  { -1, 10.075910049191847, -1, -1 },
  { -1, 13.095531201977083, -1, -1 },
  { 3, 26.192708418473266, 72, 75 },
  { 0, 3.4842231364381604, 73, 74 },
  { -1, 8.403875382199818, -1, -1 },
  { -1, 11.182864368146875, -1, -1 },
  { 5, 523.0670702178344, 76, 77 },
  { -1, 20.743146899770352, -1, -1 },
  { -1, 8.287255234861348, -1, -1 },
  { 1, 89.63686394581426, 79, 86 },
  { 0, 19.72888307679858, 80, 83 },
  { 3, 26.001266269958315, 81, 82 },
  { -1, 18.789133082928227, -1, -1 },
  { -1, 17.972515014322212, -1, -1 },
  { 0, 25.84098834082839, 84, 85 },
  { -1, 20.25779240349119, -1, -1 },
  { -1, 23.972197003280435, -1, -1 },
  { 2, 0.10114895338819546, 87, 90 },
  { 0, 26.837980914087026, 88, 89 },
  { -1, 20.11283983000199, -1, -1 },
  { -1, 27.05263157894737, -1, -1 },
  { 0, 26.391188255460555, 91, 92 },
  { -1, 23.444776864888347, -1, -1 },
  { -1, 26.85294135781326, -1, -1 },
  { 0, 13.674017232923777, 94, 107 },
  { 0, 1.8467661461414826, 95, 100 },
  { 5, 585.4976162749797, 96, 99 },
  { 5, 544.4054076649074, 97, 98 },
  { -1, 3.256877010038008, -1, -1 },
  { -1, 9.641012540021345, -1, -1 },
  { -1, 9.0, -1, -1 },
  { 0, 5.469803417973345, 101, 104 },
  { 3, 14.864052907674544, 102, 103 },
  { -1, 5.895634262584057, -1, -1 },
  { -1, 9.342446634491893, -1, -1 },
  { 3, 26.75115132927634, 105, 106 },
  { -1, 11.834890823246587, -1, -1 },
  { -1, 18.37125866666667, -1, -1 },
  { 0, 20.8779048304795, 108, 115 },
  { 0, 20.269942379679563, 109, 112 },
  { 0, 16.510653921291755, 110, 111 },
  { -1, 17.717574562907096, -1, -1 },
  { -1, 19.401742613193317, -1, -1 },
  { 4, 369.3662562382397, 113, 114 },
  { -1, 29.781278962001853, -1, -1 },
  { -1, 20.114946643495532, -1, -1 },
  { 1, 89.6669274804494, 116, 119 },
  { 3, 32.805655869173656, 117, 118 },
  { -1, 21.053675898269635, -1, -1 },
  { -1, 20.105733951919536, -1, -1 },
  { 0, 28.347036611364732, 120, 121 },
  { -1, 25.701971563981047, -1, -1 },
  { -1, 26.69711877243241, -1, -1 } 
};

int32_t sonar_tree_roots[4] = { 0, 31, 62, 93 };

EmlTrees sonar = {
        122,
        sonar_nodes,	  
        4,
        sonar_tree_roots,
    };

static inline int32_t sonar_tree_0(const float *features, int32_t features_length) {
          if (features[1] < 88.554411f) {
              if (features[3] < 25.320647f) {
                  if (features[3] < 10.728673f) {
                      if (features[4] < 365.200812f) {
                          return 2.405219799238491;
                      } else {
                          return 5.505032960733735;
                      }
                  } else {
                      if (features[0] < 3.246664f) {
                          return 7.0156059582024675;
                      } else {
                          return 9.808488521972052;
                      }
                  }
              } else {
                  if (features[4] < 366.290269f) {
                      if (features[5] < 498.372569f) {
                          return 14.269893325645093;
                      } else {
                          return 9.536981526317536;
                      }
                  } else {
                      if (features[3] < 26.147103f) {
                          return 13.30050499445061;
                      } else {
                          return 20.158089734432828;
                      }
                  }
              }
          } else {
              if (features[1] < 89.348591f) {
                  if (features[3] < 20.103064f) {
                      if (features[0] < 4.911775f) {
                          return 7.747749784048373;
                      } else {
                          return 11.077131911998846;
                      }
                  } else {
                      if (features[0] < 3.619671f) {
                          return 6.661072861668426;
                      } else {
                          return 13.367942912267253;
                      }
                  }
              } else {
                  if (features[0] < 20.559716f) {
                      if (features[0] < 17.087008f) {
                          return 18.207116710278946;
                      } else {
                          return 19.632755624359774;
                      }
                  } else {
                      if (features[1] < 89.917828f) {
                          return 20.85129338192907;
                      } else {
                          return 26.16382793753499;
                      }
                  }
              }
          }
        }
        

static inline int32_t sonar_tree_1(const float *features, int32_t features_length) {
          if (features[1] < 88.655372f) {
              if (features[3] < 20.956256f) {
                  if (features[0] < 1.440043f) {
                      if (features[5] < 479.418421f) {
                          return -0.14955870764381404;
                      } else {
                          return 4.470390074885437;
                      }
                  } else {
                      if (features[3] < 11.136869f) {
                          return 5.33637230277429;
                      } else {
                          return 7.950266020916684;
                      }
                  }
              } else {
                  if (features[3] < 24.553212f) {
                      if (features[1] < 88.401844f) {
                          return 5.524559076817086;
                      } else {
                          return 9.14327413674788;
                      }
                  } else {
                      if (features[3] < 26.145196f) {
                          return 11.482426901658402;
                      } else {
                          return 15.516402525651145;
                      }
                  }
              }
          } else {
              if (features[1] < 89.883700f) {
                  if (features[0] < 9.781282f) {
                      if (features[0] < 5.497020f) {
                          return 7.610330651491365;
                      } else {
                          return 11.840188745131025;
                      }
                  } else {
                      if (features[1] < 89.233371f) {
                          return 16.633979646949367;
                      } else {
                          return 19.812652705196612;
                      }
                  }
              } else {
                  if (features[0] < 23.280824f) {
                      if (features[0] < 19.523446f) {
                          return 19.57739621831708;
                      } else {
                          return 23.842658999691263;
                      }
                  } else {
                      if (features[4] < 388.421518f) {
                          return 26.725746845872596;
                      } else {
                          return 25.253019824804056;
                      }
                  }
              }
          }
        }
        

static inline int32_t sonar_tree_2(const float *features, int32_t features_length) {
          if (features[1] < 89.084709f) {
              if (features[3] < 21.962236f) {
                  if (features[1] < 88.913412f) {
                      if (features[1] < 88.196139f) {
                          return 3.1834574237386146;
                      } else {
                          return 7.492576590950439;
                      }
                  } else {
                      if (features[0] < 8.818660f) {
                          return 10.075910049191847;
                      } else {
                          return 13.095531201977083;
                      }
                  }
              } else {
                  if (features[3] < 26.192708f) {
                      if (features[0] < 3.484223f) {
                          return 8.403875382199818;
                      } else {
                          return 11.182864368146875;
                      }
                  } else {
                      if (features[5] < 523.067070f) {
                          return 20.743146899770352;
                      } else {
                          return 8.287255234861348;
                      }
                  }
              }
          } else {
              if (features[1] < 89.636864f) {
                  if (features[0] < 19.728883f) {
                      if (features[3] < 26.001266f) {
                          return 18.789133082928227;
                      } else {
                          return 17.972515014322212;
                      }
                  } else {
                      if (features[0] < 25.840988f) {
                          return 20.25779240349119;
                      } else {
                          return 23.972197003280435;
                      }
                  }
              } else {
                  if (features[2] < 0.101149f) {
                      if (features[0] < 26.837981f) {
                          return 20.11283983000199;
                      } else {
                          return 27.05263157894737;
                      }
                  } else {
                      if (features[0] < 26.391188f) {
                          return 23.444776864888347;
                      } else {
                          return 26.85294135781326;
                      }
                  }
              }
          }
        }
        

static inline int32_t sonar_tree_3(const float *features, int32_t features_length) {
          if (features[0] < 13.674017f) {
              if (features[0] < 1.846766f) {
                  if (features[5] < 585.497616f) {
                      if (features[5] < 544.405408f) {
                          return 3.256877010038008;
                      } else {
                          return 9.641012540021345;
                      }
                  } else {
                      return 9.0;
                  }
              } else {
                  if (features[0] < 5.469803f) {
                      if (features[3] < 14.864053f) {
                          return 5.895634262584057;
                      } else {
                          return 9.342446634491893;
                      }
                  } else {
                      if (features[3] < 26.751151f) {
                          return 11.834890823246587;
                      } else {
                          return 18.37125866666667;
                      }
                  }
              }
          } else {
              if (features[0] < 20.877905f) {
                  if (features[0] < 20.269942f) {
                      if (features[0] < 16.510654f) {
                          return 17.717574562907096;
                      } else {
                          return 19.401742613193317;
                      }
                  } else {
                      if (features[4] < 369.366256f) {
                          return 29.781278962001853;
                      } else {
                          return 20.114946643495532;
                      }
                  }
              } else {
                  if (features[1] < 89.666927f) {
                      if (features[3] < 32.805656f) {
                          return 21.053675898269635;
                      } else {
                          return 20.105733951919536;
                      }
                  } else {
                      if (features[0] < 28.347037f) {
                          return 25.701971563981047;
                      } else {
                          return 26.69711877243241;
                      }
                  }
              }
          }
        }
        

float sonar_predict(const float *features, int32_t features_length) {

        float avg = 0;

        avg += sonar_tree_0(features, features_length); 
    avg += sonar_tree_1(features, features_length); 
    avg += sonar_tree_2(features, features_length); 
    avg += sonar_tree_3(features, features_length); 
        
        return avg/4;
    }
    